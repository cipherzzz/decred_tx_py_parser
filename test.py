from electrum_parser import DecredTxParser

#TestTxSerialize - Type 0 - Full Serialization
txHex = '01000000010000000000000000000000000000000000000000000000000000000000000000ffffffff00ffffffff0200f2052a01000000abab434104d64bdfd09eb1c5fe295abdeb1dca4281be988e2da0b6c1c6a59dc226c28624e18175e851c96b973d81b01cc31f047834bc06d6d6edf620d184241a6aed8b63a6ac00e1f50500000000bcbc434104d64bdfd09eb1c5fe295abdeb1dca4281be988e2da0b6c1c6a59dc226c28624e18175e851c96b973d81b01cc31f047834bc06d6d6edf620d184241a6aed8b63a6ac00000000000000000112121212121212121515151534343434070431dc001b0162'
deserializer = DecredTxParser(txHex, 0)
tx = deserializer.read_tx()
print(tx)

#TestTxSerializePrefix - Type 1 - No Witness
txHex = '01000100010000000000000000000000000000000000000000000000000000000000000000ffffffff00ffffffff0200f2052a01000000abab434104d64bdfd09eb1c5fe295abdeb1dca4281be988e2da0b6c1c6a59dc226c28624e18175e851c96b973d81b01cc31f047834bc06d6d6edf620d184241a6aed8b63a6ac00e1f50500000000bcbc434104d64bdfd09eb1c5fe295abdeb1dca4281be988e2da0b6c1c6a59dc226c28624e18175e851c96b973d81b01cc31f047834bc06d6d6edf620d184241a6aed8b63a6ac0000000000000000'
deserializer = DecredTxParser(txHex, 0)
tx = deserializer.read_tx()
print(tx)

#TestTxSerializeWitness - Type 2 - Only Witness
txHex = '010002000112121212121212121515151534343434070431dc001b0162'
deserializer = DecredTxParser(txHex, 0)
tx = deserializer.read_tx()
print(tx)

#TestTxSerializeWitnessSigning - Type 3 - Witness signing
txHex = '0100030001070431dc001b0162'
deserializer = DecredTxParser(txHex, 0)
tx = deserializer.read_tx()
print(tx)

#TestTxSerializeWitnessValueSigning - Type 4 - Witness value signing
txHex = '01000400011212121212121212070431dc001b0162'
deserializer = DecredTxParser(txHex, 0)
tx = deserializer.read_tx()
print(tx)

#Multiple inputs and outputs
txHex = '0100000005600643747e25a28433d52858cef654f6907ef101c7ad9c6f5f80c721262f20af0200000001ffffffff761cdf0c89cff7f1cba5a2c368bf441532c31253ec1bc90a48d39a27384e4ac10200000001ffffffff7fcc5f823d6b0ba27aef89ed9004639c496ce116abd1e5358b64b77f420a0b700200000001ffffffff84692dd6f0da6f83b67c0dde270c15cddc929637c06b3945694fee11836789e80200000001ffffffff847693652cfd47f9da9e78a3424b44bc33f2d29fcaec9b502d7fb61d100975e70200000001ffffffff063f71abae0000000000001976a914c5191dc9992e8bbcbd0fc9dbc5079db467f9f34688ac3f71abae0000000000001976a914c5191dc9992e8bbcbd0fc9dbc5079db467f9f34688ac3f71abae0000000000001976a914c5191dc9992e8bbcbd0fc9dbc5079db467f9f34688ac3f71abae0000000000001976a914c5191dc9992e8bbcbd0fc9dbc5079db467f9f34688ac3f71abae0000000000001976a914c5191dc9992e8bbcbd0fc9dbc5079db467f9f34688accd7adf450000000000001976a914b450e35d982af90042161b7ed0f4554be53c76fb88ac000000000000000005ffffffffffffffff00000000ffffffff6b483045022100c5241aad593905674cddd93c3635ca2ce2d4c6b855204f3028dccdcdb3bb641b022050a4b03894f2d7f3955ee14cd5b78ea8c2b0d17341f22c24758bdb4d585b7628012102dad86a233d5bb615dc5b7efa016c7fc24bad7550de364169ce1b706abec9aa7dffffffffffffffff00000000ffffffff6a47304402201b35629568a8bd9889a959fa3f0df40cae5f47ab9b8364c70e6fe7ac4b79e4c402202b4cac0572a3fab47e21a96a9ce58f119fad96033a0b722c6319eb4e757b1551012103a19598277843c5cf86a8f979990f229b453800836722a7b3c1a29b82bbfa92c0ffffffffffffffff00000000ffffffff6b483045022100b94130116725e4570b7a69e0a6fcef74ce1df518952bad35fe8a377e2372a8ed0220342ef0d39ed7f662e4f2843b77a5c0513805a9e985f1fa2b2a90c15b6e31ca230121031056cb426c231e28e0ca9cdb998923ae896f684b166c9548f9a68beee47def01ffffffffffffffff00000000ffffffff6b48304502210080fe39ed1f1c9d252bc11a3612e5b115f65aaef2222df8c722c60bad42e6b57302206742082a6b3637333ea80b94d4571d21658cf510047e962fe78d6f4d71db38c9012103a9b5d074ac2e5bc49c0243af8417adfa7a45bab27f72fe2edc0aa53afcf42a09ffffffffffffffff00000000ffffffff6b483045022100ff1cc81f67f11342a9c1bee529f951d44e65cffe0795bca65c62a56fea9be0620220268399ded5482ae70155d531f2d2a7a0a53307a1ffee6ee4960387b883c924810121028014c5aa909e5be84b93e00312d0ee5bc834d199a4c0da527286c0ab69e492cb'
deserializer = DecredTxParser(txHex, 0)
tx = deserializer.read_tx()
print(tx)